# State Management Libraries

In our application, we prefer the use and creation of Angular services to hold our application logic as much as possible.

- They are easier to test
- Promote reuse
- Keep complex logic out of components which are more ephemeral.


## TLDR

We will prefer the use of the NGRX SignalStore for stateful services within our application.

While it has a slight *learning curve* (mostly because of it's functional style), it does provide the following benefits:

- Consistency
- Tree-Shakable for smaller builds
- A *great* composition model for sharing common state management patterns across the application (with `signalStoreFeature`).
- Signals based.
- Extremely unit testable.

## Custom Services

While you obviously *can* create TypeScript classes for your services, and using Signals, etc. write your own implementation of a service, we generally want to avoid this.

- Hard to keep consistent across the application. 10 Developers creating 10 Services - each service will tend to be a "unique snowflake".
- Issues with asynchronicity can be challenging - the complexity - and/or bugs - grow in "custom solutions"

## Libraries Considered

### NGRX Store (Redux)

This is well known, commonly used, and reliable. 

#### Advantages

- Familiarity
- Reliability
- "Event Driven" - It is an implementation of "event sourcing", and separates cause from effect. One "event" in the application oftens ends up being the cause of many "side effects"

#### Problems

- Complexity
- Global State - Hard to manage memory, keep data "fresh"
- Requires "meetings" for even the simplest things.
- Hard to learn. Requires a lot of "up front" thinking.

##### Summary

A lot of the advantages of the NGRX/Store are now available as signal store features in the `@ngrx/signals/events` library.

- Can have reducers
- Can have Actions
- Can have Effects

We recommend using SignalStore - but are willing to consider adding NGRX/Store along side it if there is a compelling reason.

### Tanstack Query

- Fantastic and proven for API data management.
- Still considered "experimental"

### Others?

## Triggers for Reevaluating this Decision

- Angular changes it's state management patterns again.
- We end up with too much duplication (consider extracting features)
- Might consider Tanstack Query if it gets out of experminatal for some of this.
